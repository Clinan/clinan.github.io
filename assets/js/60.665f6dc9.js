(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{499:function(s,a,t){"use strict";t.r(a);var e=t(10),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"树莓派"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#树莓派"}},[s._v("#")]),s._v(" 树莓派")]),s._v(" "),t("h2",{attrs:{id:"_1-开机设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-开机设置"}},[s._v("#")]),s._v(" 1.开机设置")]),s._v(" "),t("p",[s._v("在连接上树莓派，应该先设置密码、时区、ssh登录、联网（在路由器上给pi设置静态ip），在询问是否要更新源时，应该跳过更新源。")]),s._v(" "),t("h2",{attrs:{id:"_2-使用清华的树莓派源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用清华的树莓派源"}},[s._v("#")]),s._v(" 2. 使用清华的树莓派源")]),s._v(" "),t("p",[s._v("修改"),t("code",[s._v("/etc/apt/source.list")]),s._v("文件")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi\n")])])]),t("h2",{attrs:{id:"_3-执行更新源数据库和软件更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-执行更新源数据库和软件更新"}},[s._v("#")]),s._v(" 3. 执行更新源数据库和软件更新")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" upgrade\n")])])]),t("h2",{attrs:{id:"_4-docker-ce的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-docker-ce的安装"}},[s._v("#")]),s._v(" 4. docker-ce的安装")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# step 1: 安装必要的一些系统工具")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" apt-transport-https ca-certificates "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" software-properties-common\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# step 2: 安装GPG证书")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://mirrors.aliyun.com/docker-ce/linux/raspbian/gpg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 3: 写入软件源信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb [arch=armhf] https://mirrors.aliyun.com/docker-ce/linux/raspbian '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(' stable"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 4: 更新并安装Docker-CE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" -y update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce \n")])])]),t("h2",{attrs:{id:"_5-内网穿透软件的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-内网穿透软件的安装"}},[s._v("#")]),s._v(" 5. 内网穿透软件的安装")]),s._v(" "),t("ul",[t("li",[s._v("Sakura frp的官网（https://www.natfrp.org/）")]),s._v(" "),t("li",[s._v("注册账号并下载arm版本的软件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" frp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://cdn.tcotp.cn:4443/client/Sakura_frpc_linux_arm.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf Sakura_frpc_linux_arm.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" Sakura_frpc_linux_arm frp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行")]),s._v("\n./frp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入账号密码，并根据提示列表选择需要的线路即可")]),s._v("\n")])])]),t("ul",[t("li",[s._v("由于要长期使用这个内网穿透工具，需要配置为开机自启动服务")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/systemd/system/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" frp.service\n")])])]),t("ul",[t("li",[s._v("将下面的内容复制到frp.service文件中")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Sakura Frp Client\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Wants")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network-online.target\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("After")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network-online.target\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WorkingDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LimitNOFILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PIDFile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/run/sakurafrp/client.pid\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RestartSec")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("20s\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/frp/frp  --su"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("注册的账号 --sp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("注册的密码 --sid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("线路编号，不知道可以参照上一步直接运行的时候，选择线路输入的数字\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("on-failure\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("StartLimitInterval")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n")])])]),t("ul",[t("li",[s._v("启动服务，并设置为开机自启动")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl daemon-reload\nsystemctl start frp.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否正常启动")]),s._v("\nsystemctl status frp.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置为开机自启动")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" frp.service\n")])])]),t("Vssue",{attrs:{title:"Vssue Demo"}})],1)}),[],!1,null,null,null);a.default=r.exports}}]);